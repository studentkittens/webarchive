

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Managing crawl intervals &mdash; Webarchiv 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Webarchiv 1.0 documentation" href="index.html" />
    <link rel="next" title="Filtering crawled content" href="filter.html" />
    <link rel="prev" title="Python to Java Interface (aka Javadapter)" href="javadapter.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="filter.html" title="Filtering crawled content"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="javadapter.html" title="Python to Java Interface (aka Javadapter)"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Webarchiv 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="managing-crawl-intervals">
<h1>Managing crawl intervals<a class="headerlink" href="#managing-crawl-intervals" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The interval manager is used to manage the crawl intervals by managing
different states of the crawl manager.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Starting the crawling procedure</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">archive</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">--</span><span class="n">loglevel</span><span class="o">=&lt;</span><span class="n">severity</span><span class="o">&gt;</span><span class="p">]</span> <span class="n">crawler</span> <span class="p">[</span><span class="o">--</span><span class="n">start</span><span class="p">]</span>
</pre></div>
</div>
<p>After the crawler is started by the commandline interface a command shell will
raise in which you can start, stop, get status of the crawling sub system just
by typing the command (type help for more information). All these operations are
invoked by a crawler shell that controls the interval manager as a result the
crawl manager is triggered.</p>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p><strong>Internal usage of the Interval Manager:</strong></p>
<dl class="class">
<dt id="cmanager.intervalmanager.IntervalManager">
<em class="property">class </em><tt class="descclassname">cmanager.intervalmanager.</tt><tt class="descname">IntervalManager</tt><a class="reference internal" href="_modules/cmanager/intervalmanager.html#IntervalManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.IntervalManager" title="Permalink to this definition">¶</a></dt>
<dd><p>IntervalManager, manages crawling intervals including start, stop functionality</p>
<dl class="method">
<dt id="cmanager.intervalmanager.IntervalManager.crawling_done_callback">
<tt class="descname">crawling_done_callback</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#IntervalManager.crawling_done_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.IntervalManager.crawling_done_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers end time of last crawl and calculates
delay and starts next run</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.IntervalManager.kill">
<tt class="descname">kill</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#IntervalManager.kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.IntervalManager.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills the system hard, like ctrl + c</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.IntervalManager.start">
<tt class="descname">start</tt><big>(</big><em>delay_in_sec=0</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#IntervalManager.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.IntervalManager.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the intervalmanager, which starts
the crawlmanager procedure with a given delay</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Delay_in_sec :</th><td class="field-body">delay time in seconds</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cmanager.intervalmanager.IntervalManager.status">
<tt class="descname">status</tt><a class="reference internal" href="_modules/cmanager/intervalmanager.html#IntervalManager.status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.IntervalManager.status" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">current system status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.IntervalManager.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#IntervalManager.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.IntervalManager.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stopps the interval manager</p>
</dd></dl>

</dd></dl>

<p><strong>Internal usage of the Crawler Command Shell:</strong></p>
<dl class="class">
<dt id="cmanager.intervalmanager.CrawlerShell">
<em class="property">class </em><tt class="descclassname">cmanager.intervalmanager.</tt><tt class="descname">CrawlerShell</tt><big>(</big><em>imanager</em>, <em>condvar</em>, <em>autostart=False</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactive command shell to start, stop, kill and quit crawling procedure</p>
<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.activeflag">
<tt class="descname">activeflag</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.activeflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.activeflag" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for &#8216;active&#8217; flag</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.do_EOF">
<tt class="descname">do_EOF</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.do_EOF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.do_EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes quit on EOF</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.do_quit">
<tt class="descname">do_quit</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.do_quit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.do_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes quit command</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.do_start">
<tt class="descname">do_start</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.do_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.do_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes start command</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.do_status">
<tt class="descname">do_status</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.do_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.do_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes status command</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.do_stop">
<tt class="descname">do_stop</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.do_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.do_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes stop command</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.quitflag">
<tt class="descname">quitflag</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.quitflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.quitflag" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for &#8216;quit&#8217; flag</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.set_activeflag">
<tt class="descname">set_activeflag</tt><big>(</big><em>state</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.set_activeflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.set_activeflag" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting &#8216;active&#8217; flag</p>
</dd></dl>

<dl class="method">
<dt id="cmanager.intervalmanager.CrawlerShell.set_quitflag">
<tt class="descname">set_quitflag</tt><big>(</big><em>state</em><big>)</big><a class="reference internal" href="_modules/cmanager/intervalmanager.html#CrawlerShell.set_quitflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cmanager.intervalmanager.CrawlerShell.set_quitflag" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting &#8216;quit&#8217; flag</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Managing crawl intervals</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#implementation">Implementation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="javadapter.html"
                        title="previous chapter">Python to Java Interface (aka Javadapter)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="filter.html"
                        title="next chapter">Filtering crawled content</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/intervalmanager.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="filter.html" title="Filtering crawled content"
             >next</a> |</li>
        <li class="right" >
          <a href="javadapter.html" title="Python to Java Interface (aka Javadapter)"
             >previous</a> |</li>
        <li><a href="index.html">Webarchiv 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Christopher Pahl, Christoph Piechula.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>