
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cleaning crawled content &mdash; Webarchiv 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Webarchiv 1.0 documentation" href="index.html" />
    <link rel="next" title="Synchronisation between Temp and Archive" href="rsync.html" />
    <link rel="prev" title="Crawling Program (WGET)" href="wget.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rsync.html" title="Synchronisation between Temp and Archive"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wget.html" title="Crawling Program (WGET)"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Webarchiv 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cleaning-crawled-content">
<h1>Cleaning crawled content<a class="headerlink" href="#cleaning-crawled-content" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Cleaner submodule ist used to cleanup and normalize crawled content. After
content is fetched by the wget submodule the cleaner module starts its work. It
cleans the downlaoded content by deleting empty files and folders and
normalizes the downloaded contend in the following way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Before normalization</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">www</span><span class="o">.</span><span class="n">heise</span><span class="o">.</span><span class="n">de</span><span class="o">/</span>
    <span class="n">index</span><span class="o">.</span><span class="n">html</span>
    <span class="n">news</span><span class="o">/</span>
        <span class="n">newsfeeds</span><span class="o">.</span><span class="n">html</span>
        <span class="n">favicon</span><span class="o">.</span><span class="n">png</span>
    <span class="o">...</span>



<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">After normalization</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">www</span><span class="o">.</span><span class="n">heise</span><span class="o">.</span><span class="n">de</span><span class="o">/</span>
    <span class="n">index</span><span class="o">.</span><span class="n">html</span><span class="o">/</span>
        <span class="n">data</span>
    <span class="n">news</span><span class="o">/</span>
        <span class="n">newsfeeds</span><span class="o">.</span><span class="n">html</span><span class="o">/</span>
            <span class="n">data</span>
        <span class="n">favicon</span><span class="o">.</span><span class="n">png</span><span class="o">/</span>
            <span class="n">data</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The cleaner is collecting metadata in a list during the restructure procedure.
To decide which files to keep, the filter subsystem is used by the celaner.
The metadata object is used to get all meta information needed. Later the
XML-metadata is placed as data.xml inside the content folder, so there is a
unique structure for the complete archive.</p>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p><strong>Internal usage of the Cleaner:</strong></p>
<dl class="class">
<dt id="crawler.cleaner.Cleaner">
<em class="property">class </em><tt class="descclassname">crawler.cleaner.</tt><tt class="descname">Cleaner</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/crawler/cleaner.html#Cleaner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crawler.cleaner.Cleaner" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleaner submodule, walk dir tree, cleans and restructures
tmp_crawler_folder hierarchy and calls filter subsystem</p>
<dl class="method">
<dt id="crawler.cleaner.Cleaner.clean_empty">
<tt class="descname">clean_empty</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/crawler/cleaner.html#Cleaner.clean_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crawler.cleaner.Cleaner.clean_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes empty files and folders</p>
</dd></dl>

<dl class="attribute">
<dt id="crawler.cleaner.Cleaner.meta_list">
<tt class="descname">meta_list</tt><a class="reference internal" href="_modules/crawler/cleaner.html#Cleaner.meta_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crawler.cleaner.Cleaner.meta_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">metalist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crawler.cleaner.Cleaner.restructure">
<tt class="descname">restructure</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/crawler/cleaner.html#Cleaner.restructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#crawler.cleaner.Cleaner.restructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Walks through crawler temp folder hierarchy calling internal
restructure method to &#8216;normalize&#8217; file hierarchy</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Cleaning crawled content</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#implementation">Implementation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="wget.html"
                        title="previous chapter">Crawling Program (WGET)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="rsync.html"
                        title="next chapter">Synchronisation between Temp and Archive</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/cleaner.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rsync.html" title="Synchronisation between Temp and Archive"
             >next</a> |</li>
        <li class="right" >
          <a href="wget.html" title="Crawling Program (WGET)"
             >previous</a> |</li>
        <li><a href="index.html">Webarchiv 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Christopher Pahl, Christoph Piechula.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>